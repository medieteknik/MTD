#header {
  z-index: 10;
  width: 100%;
  padding: $header-padding 0;
  font-family: $font-family-sans-serif;
  background: rgba(#F5F5F5, .9);
  border-bottom: 1px solid rgba($gray, .5);

  &.detached {
    padding-bottom: $header-height;
  }

  &.transparent {
    position: absolute;
    color: #fff;
    background: transparent;
    border-bottom-color: transparent;

    a {
      color: #fff;
    }
    .big-brand .logo, &:not(.detached) .brand .logo {
      @include background-img('header/white', contain);
    }
    .sponsor.ge {
      background-image: image-url('sponsors/ge_white.png');
    }
    .sponsor.autodesk {
      background-image: image-url('sponsors/autodesk_white.png');
    }
  }

  @media (min-width: $screen-sm-min) {
    // hide small brand on desktop if not detached
    &:not(.detached) .brand {
      display: none;
    }
    > .container {
      margin-bottom: $header-padding;
    }
  }

  .big-brand {
    @extend .hidden-xs;
    float: left;
    line-height: $header-logo-height;
    font-size: 37px;
    font-weight: 800;
    color: #000;

    .year {
      font-weight: 700;
    }
    .logo {
      display: inline-block;
      float: left;
      height: $header-logo-height;
      width: $header-logo-height;
      background-repeat: no-repeat;
      @include background-img('header/logo', contain);
    }
  }

  .sponsor {
    @extend .hidden-xs;
    float: right;
    width: 16%;
    height: $header-logo-height;
    margin: 0 0 0 15px;
    background-size: contain;
    background-repeat: no-repeat;
    background-position: center;

    &.ge {
      background-image: image-url('sponsors/ge.png');
    }
    &.autodesk {
      background-image: image-url('sponsors/autodesk.png');
    }
  }
}

// nav
#header > nav {
  text-transform: uppercase;
  line-height: $header-height - 2 * $header-padding;

  @include transition(background, right, left, width .2s ease-in-out);

  .togglemenu {
    margin-top: 8px;
  }

  .expand-nav & {
    // positoin: fixed;
    width: 100%;
    right: $mobile-header-width !important;
  }

  .brand {
    float: left;

    .logo {
      display: inline-block;
      float: left;
      height: $header-height - 2*$header-padding;
      width: $header-height - 2*$header-padding;
      background-repeat: no-repeat;
      @include background-img('header/logo', contain);
    }
    .name {
      margin-right: 5px;
      float: left;
      font-weight: bold;
    }
  }

  .menu {
    @extend .list-inline;
    @extend .hidden-xs;
    margin-bottom: 0;

    &.right {
      @extend .pull-right;
    }

    &.left {
      @extend .pull-left;
    }
    &.left a {
      padding: 2 * $header-padding;
    }
    .sponsor {
      font-weight: bold;
    }

    .lang a img {
      /* don't look at this. just don't. */
      margin-top: -2px;
      height: 17px;
    }
  }
}

#header.detached > nav {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  z-index: 10;
  background: rgba(#fff, .9);
  border-bottom: 1px solid rgba($gray, .5);
  padding: $header-padding 0;

  a {
    color: $orange;
  }
  .togglemenu {
    color: #111;
  }
  .brand {
    display: block;

    .name {
      @extend .visible-xs-block;
    }
  }
  .menu.left {
    margin-left: 2 * $header-padding;
  }
}

// mobile
#mobile-nav {
  width: $mobile-header-width;
  height: 100%;
  position: fixed;
  top: 0;
  left: 100%;
  background: $gray-dark;
  color: darken(#fff, 5%);
  font: $font-size-base * 1.1 $font-family-sans-serif;
  overflow: auto;
  @include transition(all .3s ease-in-out);

  .expand-nav & {
    left: 100% - $mobile-header-width;
  }

  .cross-icon {
    @extend .pull-right;
    height: 20px;
    width: 20px;
    margin-top: 16px;
  }

  header {
    height: $header-height;
    line-height: $header-height;
    border-bottom: 1px solid $gray;
    padding: 0 15px;
  }
  footer {
    border-top: 1px solid $gray;
    padding: 15px;
  }
}

.expand-nav > #content,
.expand-nav #header > nav {
  left: -1 * $mobile-header-width;
}

#mobile-nav .menu {
  @extend .list-unstyled;
  margin: 0;

  li {
    padding: 15px;
  }
}
